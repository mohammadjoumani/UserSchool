package com.example.userschool.view.activity;import androidx.appcompat.app.AppCompatActivity;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import android.content.BroadcastReceiver;import android.content.Context;import android.content.Intent;import android.content.IntentFilter;import android.os.Bundle;import android.view.View;import android.widget.ImageView;import android.widget.ProgressBar;import com.example.userschool.R;import com.example.userschool.connectdb.ConnectDB;import com.example.userschool.model.ClassSchool;import com.example.userschool.query.ClassQuery;import com.example.userschool.view.adapter.ClassChoseByTeacherRecyclerAdapter;import java.util.ArrayList;import java.util.List;public class ChoseClassByTeacherActivity extends AppCompatActivity {    private ProgressBar progressBarChoseClass;    private ImageView imgChoseClassEmpty;    private RecyclerView recyclerChoseClassByTeacher;    private RecyclerView.LayoutManager layoutManagerClass;    private List<ClassSchool> classSchools;    private ClassChoseByTeacherRecyclerAdapter classChoseByTeacherRecyclerAdapter;    private ClassQuery classQuery;    private ConnectDB connectDB;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate( savedInstanceState );        setContentView( R.layout.activity_chose_class_by_teacher );        classQuery = new ClassQuery( this );        connectDB = new ConnectDB();        progressBarChoseClass = findViewById( R.id.progressBarChoseClass );        imgChoseClassEmpty = findViewById( R.id.imgChoseClassEmpty );        recyclerChoseClassByTeacher = findViewById( R.id.recyclerChoseClassByTeacher );        //recycler for show class        recyclerChoseClassByTeacher.setHasFixedSize( true );        layoutManagerClass = new LinearLayoutManager( this, RecyclerView.VERTICAL, false );        recyclerChoseClassByTeacher.setLayoutManager( layoutManagerClass );        classSchools = new ArrayList<>();        classQuery.callTaskGetClass();        classChoseByTeacherRecyclerAdapter = new ClassChoseByTeacherRecyclerAdapter( classSchools, this );        recyclerChoseClassByTeacher.setAdapter( classChoseByTeacherRecyclerAdapter );        progressBarChoseClass.setVisibility( View.VISIBLE );        IntentFilter intentFilter = new IntentFilter( "classList" );        registerReceiver( boBroadcastReceiverClass, intentFilter );    }    //for get All Class    BroadcastReceiver boBroadcastReceiverClass = new BroadcastReceiver() {        @Override        public void onReceive(Context context, Intent intent) {            if (connectDB.CONN() == null) {                progressBarChoseClass.setVisibility( View.GONE );                imgChoseClassEmpty.setImageResource( R.drawable.ic_disconnect );                imgChoseClassEmpty.setVisibility( View.VISIBLE );                return;            }            classSchools = classQuery.getClasses();            if (classSchools.size() == 0) {                imgChoseClassEmpty.setVisibility( View.VISIBLE );            } else {                imgChoseClassEmpty.setVisibility( View.GONE );            }            progressBarChoseClass.setVisibility( View.GONE );            classChoseByTeacherRecyclerAdapter.setData( classSchools );        }    };}